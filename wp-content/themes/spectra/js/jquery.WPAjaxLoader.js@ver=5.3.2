/*!
 * WPAjaxLoader ver. 2.1.1
 * jQuery Ajax Loader for Wordpress
 *
 * Copyright (c) 2016-2019
 * Rascals Themes
 *
 */

(function(a){a.WPAjaxLoader=function(b){var d={home_url:"",theme_uri:"",dir:"",permalinks:"",ajax_async:true,ajax_cache:false,ajax_events:"",ajax_elements:"",reload_containers:"",search_forms:"#searchform",header_container:"#header",nav:"",redirect:false,content:"#ajax-content",excludes_links:"",reload_scripts:"/js/custom.js",start_delay:0,loadStart:function(){},loadEnd:function(){},redirectStart:function(){},},c=this,b=b||{};c.init=function(){var w=a.extend({},d,b);a.data(document,"WPAjaxLoader",w);var x=true,r=true,g=window.history.pushState!==undefined,u=a(w.content),e="",m,l=w.reload_scripts.split(","),h=0,i=new Array(),v=0,o=new Array();if(w.ajax_async=="on"){w.ajax_async=true}else{w.ajax_async=false}if(w.ajax_cache=="on"){w.ajax_cache=true}else{w.ajax_cache=false}w.reload_containers=w.reload_containers.split(",");w.ajax_events=w.ajax_events.split(",");w.ajax_elements=w.ajax_elements.split(",");w.excludes_links=w.excludes_links.split("|");function t(z){var y=false;a.each(w.ajax_elements,function(A,B){if(z.is(a(B))){y=true;return false}});return y}function p(z){var A=false;var y=z.replace(location.host,"");a.each(w.excludes_links,function(B,C){if(C!==""&&y.indexOf(C)>-1){A=true;return false}});return A}function n(z){var y;if(r==true){return true}if(typeof z==="string"){y=z}else{y=z.attr("href");if((z.hasClass("comment-reply-link"))||(z.attr("id")==="cancel-comment-reply-link")){return false}else{if(t(z)){return false}else{if(z.is('[target="_blank"]')){return false}}}}if(y.indexOf("wp-admin")>-1||y.indexOf("wp-login")>-1){return false}else{if(p(y)){w.redirect=true;return false}else{if(y.indexOf(".jpg")>-1||y.indexOf(".png")>-1||y.indexOf(".gif")>-1||y.indexOf(".zip")>-1||y.indexOf(".pdf")>-1||y.indexOf(".mp3")>-1||y.indexOf("feed")>-1){return false}else{return true}}}}a(document).on("submit",w.search_forms,function(A){x=false;var z=a(this).find("#s").val().replace(/ /g,"+");if(z){var y="/?s="+z;a.address.value(y)}A.preventDefault()});function j(A){var C=A.split("</head")[0];meta_text=C.split("<meta ").length-1,meta_pos=0,metasprocessed=0,all_meta="";while(metasprocessed<meta_text){var B=C.indexOf("<meta",meta_pos);end=C.indexOf(">",B),meta=C.substring(B,end);metasprocessed++;meta_pos=end;meta=meta+">";all_meta=all_meta+meta}a("head meta").remove();a("head").append(all_meta);a("html").removeClass();var z=A.replace("<body",'<body><div id="body"').replace("</body>","</div></body>");var y=a(z).filter("#body");a("body").removeClass();a("body").attr("class",y.attr("class"));a("body").data("wp_title",y.data("wp_title"));a("body").data("page_id",y.data("page_id"));document.title=a("body").data("wp_title")}function s(y){if(y>=i.length){return}a.ajax({url:i[y],dataType:"script",async:true,cache:false}).done(function(){s(++v)}).error(function(B,z,A){s(++v)})}a("html").find('link[type="text/css"]').each(function(){o.push(this.href)});function k(A){var B="",z=a("<div>"+A+"</div>").find("style"),y=a("<div>"+A+"</div>").find('link[type="text/css"]');y.each(function(){if(a.inArray(this.href,o)==-1){a("head").append(this);o.push(this.href)}});z.each(function(){var D=a(this).attr("media");var C=a(this).html();if(D===undefined||D==="screen"){B+=C}});a('style:not([media="print"])').remove();a("head").append('<style type="text/css">'+B+"</style>")}function q(y){var z=a("<div>"+y+"</div>").find("#ajax-container");u.RemoveChildrenFromDom();a("#ajax-container").html(z.html());u=a("#ajax-content");w.loadEnd.call(this);a("html, body").animate({scrollTop:0},0);if(e.length&&a(e).length){setTimeout(function(){a(window).scrollTop(a(e).offset().top+h)},500)}a.get(window.location)}var f=function(E){if(r==true){return false}e="";m=a(this);var B=false;var C=m.attr("href");if(n(m)){if(m.parents().hasClass("vc_tta-panels")){if((m.hasClass("force-ajax")===false)&&(m.parents().hasClass("force-ajax")===false)){return}}if(m.attr("href")!=="#"){e=C.split("#")[1];if(e){e=a(this).attr("href").replace(/^.*?#/,"");e="#"+e;if(a(e).length){B=true}else{C=C.replace(e,"");h=a(this).data("offset");if(h==undefined||h==""){h=parseInt(a(w.header_container).css("height"),10);h=-(h)}}}else{e=""}if(C!==window.location.href&&B==false){var D=C;x=false;if(D===""||D==="/"){a.address.state(w.dir).value(" ")}else{var C=window.location.href,A=C.split("/"),z=A[0]+"//"+A[2]+w.dir;z=D.replace(z,"");if(z==="/"){z=" "}a.address.state(w.dir).value(z)}}else{if(e!==""&&e!=="#"){var y=a(e).offset().top+h;a("html, body").animate({scrollTop:y},900)}}}else{C=C.replace(e,"");e=""}}else{if(w.redirect){w.redirectStart.call(this,C);return false}else{return}}E.preventDefault()};a(document).on("click","a:urlInternal, a:urlFragment",f);a(".dl-menu a:urlInternal, .dl-menu a:urlFragment").on("click",f);a.address.state(w.dir).init(function(){a('.site a:urlInternal:eq(-"wp-admin"):eq(-"wp-login"):eq(-"#"):eq(-".jpg"):eq(-".gif"):eq(-".png"):eq(-".zip"):eq(-".pdf"):eq(-".mp4"):eq(-".mp3"):eq(-"feed"):not([href="#"])').address()}).change(function(B){var A=B.value,y=window.location;if(n(A)){var z=function(){if(!C){return}w.loadStart.call(this);setTimeout(function(){if(r==true){r=false;var E=a(".site"),D=E.find("img").length;E.imagesLoaded({background:true}).always(function(F){w.loadEnd.call(this)}).progress(function(F,H){if(H.isLoaded){a(H.img).addClass("loaded");var G=E.find("img.loaded").length,I=100*(G/D)+"%";a("#wpal-loader  .progress-bar").css({width:I})}})}else{a.ajax({url:window.location.href,dataType:"html",cache:w.ajax_cache,async:w.ajax_async,success:function(J){var L=a("<div>"+J+"</div>").find("#ajax-container");var G=J;var I=a(J);var F,H;H=a("<div>"+J+"</div>");F=a("<div>"+J+"</div>").find("script[src]");a.each(w.reload_containers,function(M,N){a(N).html(H.find(N).html())});if(w.nav!=""){H.find(w.nav+" > ul > li ").each(function(){var M=a(this),O=M.attr("id"),N=M.attr("class");a("#"+O).attr("class","");a("#"+O).addClass(N)})}var K=L.find("img").length;L.imagesLoaded({background:true}).always(function(M){j(J);k(J);q(J);a.each(w.ajax_events,function(O,P){a(document).off(P)});a(window).off("resize");a(window).off("scroll");v=0;i=[];var N=false;F.each(function(){var O=a(this).attr("src");a("html script[src]").each(function(){if(a(this).attr("src")===O){N=true;return N}});a.each(l,function(){if(O.indexOf(this)>-1){N=true;return false}});if(N===false){i.push(O)}N=false});a.each(l,function(){if(a('html script[src*="'+this+'"]').length){i.push(a('html script[src*="'+this+'"]').attr("src"))}else{if(a('script[src*="'+this+'"]',H).length){i.push(a('script[src*="'+this+'"]',H).attr("src"))}}});s(0);a(J).filter('script:contains("theme_vars")').each(function(){a.globalEval(this.text||this.textContent||this.innerHTML||"")})}).progress(function(M,O){if(O.isLoaded){a(O.img).addClass("loaded");var N=L.find("img.loaded").length,P=100*(N/K)+"%";a("#wpal-loader  .progress-bar").css({width:P})}})},error:function(H,F,G){if(w.permalinks=="0"){window.location.href=w.home_url+"/?error=404"}else{window.location.href=w.home_url+"/404"}}})}},w.start_delay);C=false};var C=true;z()}});return false};c.init()};a.WPAjaxLoader.init=function(b){b()};a.fn.RemoveChildrenFromDom=function(b){if(!this){return}this.find('input[type="submit"]').unbind();this.children().empty().each(function(f,d){try{d.innerHTML=""}catch(g){}});this.empty();try{this.get().innerHTML=""}catch(c){}}})(jQuery);
